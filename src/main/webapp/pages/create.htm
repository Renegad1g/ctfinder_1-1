<div class="container">
	<div class="row">
		<div class="col s12 m3 l3 xl3">
			<h5>Создать</h5>
			<div class="card">
				<div class="card-content">
					<form>
	                    <label for="title">title:</label>
	                    <input type="text" name="title" id="title">
	                    <label for="content">content:</label>
	                    <input type="text" name="content" id="content">
	                    <!-- Сюда при помощи jquery помещается шаблон, заполненный offer types -->
                        <div id="offer-type-select" class="input-field">
                        	<select disabled>
			                	<option disabled="" selected="" value="">Offer type</option>
			                </select>
						</div>
	                    <button id="submit-button2" class="btn waves-effect waves-light" type="submit" name="action">Submit
	                        <i class="material-icons right">send</i>
	                    </button>
					</form>
				</div>
			</div>
		</div>

		<div class="col s12 m9 l9 xl9">
			<h5>Предложения</h5>
			<div class="row">
				<div class="col s6">
					<form>
						<label for="calendarFrom"> Начиная с: </label> <input
							id="calendarFrom" name="calendarFrom" type="date"> </input>
					</form>
				</div>
				<div class="col s6">
					<form>
						<label for="calendarTo"> по: </label> <input
							id="calendarTo" name="calendarTo" type="date"> </input>
					</form>
				</div>
			</div>

			<!-- Сюда при помощи jquery помещается шаблон таблицы, заполненный данными offers -->
			<div class="row">
				<div class="col s12 m12 l12 xl12">
					<div id="table-container"></div>
				</div>
			</div>
			<div class="row">
				<div class="col s12 m12 l12 xl12">
					<div class="card horizontal">
						<div class="card-stacked">
							<div class="card-content">
								<form>
									<button id="doneOrder" class="waves-effect waves-light btn"
										type="button">Выполнен</button>
									<button id="cancelOrder" class="waves-effect waves-light btn"
										type="button">Отмена</button>
									<button id="deleteOrder" class="waves-effect waves-light btn"
										type="button">Удаление</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	app.handler(function() {

		//console.log('this ' + $(this));
		//var $container = $(this).find("#page-container");
		//console.log('container ' + $container);

		return function(params) {

			$.ajax({
				type: 'POST',
				url: '/offertype?action=get-all',
				dataType: 'json',
				cache: false
			}).done(function(responseText, textStatus, jqXHR) {
				  
				console.log(responseText);
				//Готовим шаблон списка при помощи библиотеки Hogan
	            var template = Hogan.compile(
            		'<select>'
                    +'<option disabled="" selected="" value="">type choice</option>'
                    +'{{#result}}'                
                    +   '<option value="{{id}}">'
                    +       '{{description}}'
                    +   '</option>'
                    +'{{/result}}'
	    			+'</select>'
	            );
	            //Заполняем шаблон данными и помещаем на веб-страницу
				$('#offer-type-select').html(template.render(responseText));
				$('#offer-type-select select').formSelect();
				
			}).fail(function(jqXHR, textStatus, errorThrown) {
				  
				console.log(textStatus);
			});
			
			/*$.ajax({
				type: 'POST',
				url: '/prostogae?action=get-data-by-section&section=home',
				//contentType: 'text/plain',
				cache: false
			}).done(function(responseText, textStatus, jqXHR) {
				  //if got code 200
				  if(responseText !== '' && responseText !== 'error'){
					  
						//
						console.log(responseText.content);
						//$('section#copyright p#p-content').text(responseText.content);

					  	var template = Hogan.compile("<p>{{content}}</p>");
						//var output = template.render(responseText);
						//var $container = $(this).find("section#copyright #page-container");
					  	$container.html(template.render(responseText));
				  } else {
					  
				  //
				  }
				  //stopLoadingAnimation();
				  $(".loader").css("display", "none");
			}).fail(function(jqXHR, textStatus, errorThrown) {
				  
				//if got code 404 or 500, etc.
				//stopLoadingAnimation();
				$(".loader").css("display", "none");
			});*/

			var preloaderHide = function() {

				$(".preloader-wrapper").css("display", "none");
			}

			setTimeout(preloaderHide, 500);
		};
	});
</script>